{"version":3,"names":["_lodash","require","_qs","_interopRequireDefault","_xhr","_detect","_createForOfIteratorHelper","o","allowArrayLike","it","_Symbol","_Symbol$iterator","_Array$isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","return","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","_Array$from","test","arr","len","arr2","Array","_request","options","_promise","default","resolve","params","pick","response","setXhr","bindProgressEvents","setAuth","setCookies","setDefaults","setResponseType","setContentType","setPayload","setQs","logger","debug","concat","method","uri","x","xhr","error","warn","statusCode","processResponseJson","headers","url","body","onprogress","download","emit","bind","catch","includes","toUpperCase","XMLHttpRequest","upload","auth","bearer","authorization","user","username","pass","password","token","btoa","Authorization","jar","withCredentials","defs","cors","timeout","defaults","_keys","responseType","_x","_x2","_setContentType","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","Blob","ArrayBuffer","json","t0","detect","sent","stop","qs","stringify","ensureBlob","file","ret","type","filename","append","form","key","isArray","_iterator","_step","v","_deleteProperty","formData","reduce","fd","FormData","_typeof2","JSON","parse"],"sources":["request.shim.js"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\n/*!\n * Copyright (c) 2015-2020 Cisco Systems, Inc. See LICENSE file.\n */\n\n/* eslint-env browser */\n\n// Note: several code paths are ignored in this file. As far as I can tell, any\n// error conditions that would provoke those paths are otherwise prevented and\n// reported.\n\nimport {defaults, isArray, pick} from 'lodash';\nimport qs from 'qs';\n\nimport xhr from '../lib/xhr';\nimport detect from '../lib/detect';\n\n/**\n * @name request\n * @param {Object} options\n * @returns {Promise}\n */\nexport default function _request(options) {\n  return new Promise((resolve) => {\n    const params = pick(\n      options,\n      'method',\n      'uri',\n      'withCredentials',\n      'headers',\n      'timeout',\n      'responseType'\n    );\n\n    // Set `response` to `true` to approximate an `HttpResponse` object\n    params.response = true;\n\n    setXhr(params);\n    bindProgressEvents(params, options);\n    setAuth(params, options);\n    setCookies(params, options);\n    setDefaults(params, options);\n    setResponseType(params, options);\n    setContentType(params, options);\n    setPayload(params, options);\n    setQs(params, options);\n\n    options.logger.debug(\n      `start http ${options.method ? options.method : 'request'} to ${options.uri}`\n    );\n\n    const x = xhr(params, (error, response) => {\n      /* istanbul ignore next */\n      if (error) {\n        options.logger.warn(\n          `XHR error for ${options.method || 'request'} to ${options.uri} :`,\n          error\n        );\n      }\n\n      /* istanbul ignore else */\n      if (response) {\n        if (response.statusCode >= 400) {\n          options.logger.warn(\n            `http ${options.method ? options.method : 'request'} to ${options.uri} result: ${\n              response.statusCode\n            }`\n          );\n        } else {\n          options.logger.debug(\n            `http ${options.method ? options.method : 'request'} to ${options.uri} result: ${\n              response.statusCode\n            }`\n          );\n        }\n        response.options = options;\n        processResponseJson(response, params);\n        resolve(response);\n      } else {\n        resolve({\n          statusCode: 0,\n          options,\n          headers: options.headers,\n          method: options.method,\n          url: options.uri,\n          body: error,\n        });\n      }\n    });\n\n    x.onprogress = options.download.emit.bind(options.download, 'progress');\n  }).catch((error) => {\n    options.logger.warn(error);\n\n    /* eslint arrow-body-style: [0] */\n    /* istanbul ignore next */\n    return {\n      statusCode: 0,\n      options,\n      headers: options.headers,\n      method: options.method,\n      url: options.uri,\n      body: error,\n    };\n  });\n\n  /**\n   * @param {Object} params\n   * @param {Object} o\n   * @private\n   * @returns {undefined}\n   */\n  function bindProgressEvents(params, o) {\n    if (params.method && ['PATCH', 'POST', 'PUT'].includes(params.method.toUpperCase())) {\n      if (!params.xhr) {\n        params.xhr = new XMLHttpRequest();\n      }\n      params.xhr.upload.onprogress = o.upload.emit.bind(o.upload, 'progress');\n    }\n  }\n\n  /**\n   * @param {Object} params\n   * @param {Object} o\n   * @private\n   * @returns {undefined}\n   */\n  function setXhr(params) {\n    params.xhr = new XMLHttpRequest();\n  }\n\n  /**\n   * @param {Object} params\n   * @param {Object} o\n   * @private\n   * @returns {undefined}\n   */\n  function setAuth(params, o) {\n    if (o.auth) {\n      if (o.auth.bearer) {\n        params.headers.authorization = `Bearer ${o.auth.bearer}`;\n      } else {\n        const user = o.auth.user || o.auth.username;\n        const pass = o.auth.pass || o.auth.password;\n\n        const token = btoa(`${user}:${pass}`);\n\n        params.headers.Authorization = `Basic ${token}`;\n      }\n    }\n  }\n\n  /**\n   * @param {Object} params\n   * @param {Object} o\n   * @private\n   * @returns {undefined}\n   */\n  function setCookies(params, o) {\n    if (o.jar) {\n      params.withCredentials = true;\n    }\n  }\n\n  /**\n   * @param {Object} params\n   * @param {Object} o\n   * @private\n   * @returns {undefined}\n   */\n  function setDefaults(params, o) {\n    const defs = {\n      cors: true,\n      // raynos/xhr defaults withCredentials to true if cors is true, so we need\n      // to make it explicitly false by default\n      withCredentials: false,\n      timeout: 0,\n    };\n\n    defaults(params, pick(o, Object.keys(defs)), defs);\n  }\n\n  /**\n   * @param {Object} params\n   * @param {Object} o\n   * @private\n   * @returns {undefined}\n   */\n  function setResponseType(params, o) {\n    if (o.responseType === 'buffer') {\n      params.responseType = 'arraybuffer';\n    }\n  }\n\n  /**\n   * @param {Object} params\n   * @param {Object} o\n   * @private\n   * @returns {undefined}\n   */\n  async function setContentType(params, o) {\n    if (o.body instanceof Blob || o.body instanceof ArrayBuffer) {\n      o.json = params.json = false;\n      params.headers['content-type'] = params.headers['content-type'] || (await detect(o.body));\n    }\n  }\n\n  /**\n   * @param {Object} params\n   * @param {Object} o\n   * @private\n   * @returns {undefined}\n   */\n  function setQs(params, o) {\n    if (o.qs) {\n      params.uri += `?${qs.stringify(o.qs)}`;\n    }\n  }\n\n  /**\n   * Converts arraybuffers to blobs before uploading them\n   * @param {mixed} file\n   * @private\n   * @returns {mixed}\n   */\n  function ensureBlob(file) {\n    if (file instanceof ArrayBuffer) {\n      const ret = file.type ? new Blob([file], {type: file.type}) : new Blob([file]);\n\n      ret.filename = file.filename || file.name || 'untitled';\n\n      return ret;\n    }\n\n    return file;\n  }\n\n  /**\n   * Appends an item to a form\n   * @param {FormData} form\n   * @param {string} key\n   * @param {mixed} value\n   * @returns {undefined}\n   */\n  function append(form, key, value) {\n    if (isArray(value)) {\n      for (const v of value) {\n        append(form, key, v);\n      }\n\n      return;\n    }\n\n    value = ensureBlob(value);\n    if (value.name) {\n      value.filename = value.name;\n      form.append(key, value, value.name);\n    } else {\n      form.append(key, value);\n    }\n  }\n\n  /**\n   * @param {Object} params\n   * @param {Object} o\n   * @private\n   * @returns {undefined}\n   */\n  function setPayload(params, o) {\n    if ((!('json' in o) || o.json === true) && o.body) {\n      params.json = o.body;\n    } else if (o.form) {\n      params.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n      params.body = qs.stringify(o.form);\n      Reflect.deleteProperty(params, 'json');\n    } else if (o.formData) {\n      params.body = Object.keys(o.formData).reduce((fd, key) => {\n        const value = o.formData[key];\n\n        append(fd, key, value);\n\n        return fd;\n      }, new FormData());\n    } else {\n      params.body = o.body;\n      Reflect.deleteProperty(params, 'json');\n    }\n  }\n\n  /**\n   * @param {Object} response\n   * @param {Object} params\n   * @private\n   * @returns {undefined}\n   */\n  function processResponseJson(response, params) {\n    // If params.json is not defined, xhr won't deserialize the response\n    // so we should give it a shot just in case.\n    if (!params.json && typeof response.body !== 'object') {\n      try {\n        response.body = JSON.parse(response.body);\n      } catch (e) {\n        /* eslint no-empty: [0] */\n      }\n    }\n  }\n}\n"],"mappings":"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"}