{"version":3,"names":["_bowser","_interopRequireDefault","require","_lodash","_window","_constants","getBrowserSerial","exports","browserData","_window$navigator","window","navigator","userAgent","bowser","getParser","error","browserDetection","unableToAccessUserAgent","err","message","mockDetectionObject","getOSName","platform","getOSVersion","release","getBrowserName","getBrowserVersion","isBrowser","createDetectionObject","results","_results$getOSName","_results$getOSVersion","_results$getBrowserNa","_results$getBrowserVe","name","_default","default","memoize","agent","_window$navigator2"],"sources":["browser-detection.js"],"sourcesContent":["import bowser from 'bowser';\nimport {memoize} from 'lodash';\nimport window from 'global/window';\nimport {browserDetection} from './constants';\n\nexport const getBrowserSerial = () => {\n  let browserData;\n  try {\n    browserData = window?.navigator?.userAgent\n      ? bowser.getParser(window.navigator.userAgent)\n      : {error: browserDetection.unableToAccessUserAgent};\n  } catch (err) {\n    browserData = {error: err.message};\n  }\n\n  return browserData;\n};\n\nconst mockDetectionObject = {\n  /* eslint-disable global-require */\n  getOSName: () => require('os').platform(),\n  getOSVersion: () => require('os').release(),\n  /* eslint-enable global-require */\n  getBrowserName: () => '',\n  getBrowserVersion: () => '',\n  isBrowser: () => false,\n};\n\nconst createDetectionObject = (results) => {\n  const getOSName = () => results?.getOSName() ?? '';\n  const getOSVersion = () => results?.getOSVersion() ?? '';\n\n  const getBrowserName = () => results?.getBrowserName() ?? '';\n  const getBrowserVersion = () => results?.getBrowserVersion() ?? '';\n\n  const isBrowser = (name) => !!results?.isBrowser(name, true);\n\n  return {\n    getOSName,\n    getOSVersion,\n    getBrowserName,\n    getBrowserVersion,\n    isBrowser,\n  };\n};\n\nexport default memoize((agent) =>\n  agent || window.navigator?.userAgent\n    ? createDetectionObject(bowser.getParser(agent || window.navigator.userAgent))\n    : mockDetectionObject\n);\n"],"mappings":"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"}