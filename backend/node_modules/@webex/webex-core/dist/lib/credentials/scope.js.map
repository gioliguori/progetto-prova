{"version":3,"names":["_lodash","require","SCOPE_SEPARATOR","sortScope","scope","split","sort","join","filterScope","toFilter","toFilterArr","_isArray","default","filter","item","includes","diffScopes","scopeA","scopeB","_scopeA$split","_scopeB$split","a","b","difference"],"sources":["scope.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2020 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport {difference} from 'lodash';\n\nconst SCOPE_SEPARATOR = ' ';\n\n/**\n * sorts a list of scopes\n * @param {string} scope\n * @returns {string}\n */\nexport function sortScope(scope) {\n  if (!scope) {\n    return '';\n  }\n\n  return scope.split(SCOPE_SEPARATOR).sort().join(SCOPE_SEPARATOR);\n}\n\n/**\n * sorts a list of scopes and filters the specified scope\n * @param {string|string[]} toFilter\n * @param {string} scope\n * @returns {string}\n */\nexport function filterScope(toFilter, scope) {\n  if (!scope) {\n    return '';\n  }\n  const toFilterArr = Array.isArray(toFilter) ? toFilter : [toFilter];\n\n  return scope\n    .split(SCOPE_SEPARATOR)\n    .filter((item) => !toFilterArr.includes(item))\n    .sort()\n    .join(SCOPE_SEPARATOR);\n}\n\n/**\n * Returns a string containing all items in scopeA that are not in scopeB, or an empty string if there are none.\n *\n * @param {string} scopeA\n * @param {string} scopeB\n * @returns {string}\n */\nexport function diffScopes(scopeA, scopeB) {\n  const a = scopeA?.split(SCOPE_SEPARATOR) ?? [];\n  const b = scopeB?.split(SCOPE_SEPARATOR) ?? [];\n\n  return difference(a, b).sort().join(SCOPE_SEPARATOR);\n}\n"],"mappings":";;;;;;;;;;;AAIA,IAAAA,OAAA,GAAAC,OAAA;AAJA;AACA;AACA;;AAIA,IAAMC,eAAe,GAAG,GAAG;;AAE3B;AACA;AACA;AACA;AACA;AACO,SAASC,SAASA,CAACC,KAAK,EAAE;EAC/B,IAAI,CAACA,KAAK,EAAE;IACV,OAAO,EAAE;EACX;EAEA,OAAOA,KAAK,CAACC,KAAK,CAACH,eAAe,CAAC,CAACI,IAAI,CAAC,CAAC,CAACC,IAAI,CAACL,eAAe,CAAC;AAClE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASM,WAAWA,CAACC,QAAQ,EAAEL,KAAK,EAAE;EAC3C,IAAI,CAACA,KAAK,EAAE;IACV,OAAO,EAAE;EACX;EACA,IAAMM,WAAW,GAAG,IAAAC,QAAA,CAAAC,OAAA,EAAcH,QAAQ,CAAC,GAAGA,QAAQ,GAAG,CAACA,QAAQ,CAAC;EAEnE,OAAOL,KAAK,CACTC,KAAK,CAACH,eAAe,CAAC,CACtBW,MAAM,CAAC,UAACC,IAAI;IAAA,OAAK,CAACJ,WAAW,CAACK,QAAQ,CAACD,IAAI,CAAC;EAAA,EAAC,CAC7CR,IAAI,CAAC,CAAC,CACNC,IAAI,CAACL,eAAe,CAAC;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASc,UAAUA,CAACC,MAAM,EAAEC,MAAM,EAAE;EAAA,IAAAC,aAAA,EAAAC,aAAA;EACzC,IAAMC,CAAC,IAAAF,aAAA,GAAGF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEZ,KAAK,CAACH,eAAe,CAAC,cAAAiB,aAAA,cAAAA,aAAA,GAAI,EAAE;EAC9C,IAAMG,CAAC,IAAAF,aAAA,GAAGF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEb,KAAK,CAACH,eAAe,CAAC,cAAAkB,aAAA,cAAAA,aAAA,GAAI,EAAE;EAE9C,OAAO,IAAAG,kBAAU,EAACF,CAAC,EAAEC,CAAC,CAAC,CAAChB,IAAI,CAAC,CAAC,CAACC,IAAI,CAACL,eAAe,CAAC;AACtD"}